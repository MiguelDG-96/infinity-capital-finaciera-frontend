<div
  class="relative w-full overflow-hidden bg-gray-100 cursor-grab active:cursor-grabbing select-none"
  (touchstart)="onTouchStart($event)"
  (touchend)="onTouchEnd($event)"
  (mousedown)="onMouseDown($event)"
  (mouseup)="onMouseUp($event)"
  (mouseleave)="onMouseUp($event)"
>
  <!-- Carousel Track -->
  <div
    class="flex w-full transition-transform duration-700 ease-in-out h-[600px]"
    [style.transform]="'translateX(-' + currentSlide() * 100 + '%)'"
  >
    <!-- Slide Items -->
    @for (slide of slides; track slide.title; let i = $index) {
      <div
        class="w-full h-full flex-shrink-0 flex flex-col-reverse md:flex-row items-center justify-between px-6 md:px-16 lg:px-24 relative pb-12 md:pb-0"
        [ngClass]="slide.bgColor"
      >
        <!-- Left Content: Text -->
        <div
          class="w-full md:w-1/2 flex flex-col justify-center h-1/2 md:h-full z-10 pl-0 md:pl-12 text-center md:text-left"
        >
          <!-- Title Animation -->
          <h1
            class="text-3xl md:text-5xl lg:text-6xl font-bold mb-4 md:mb-6 transition-all duration-1000 transform leading-tight"
            [ngClass]="[
              currentSlide() === i ? 'translate-x-0 opacity-100' : '-translate-x-20 opacity-0',
              slide.textTitleColor,
            ]"
          >
            {{ slide.title }}
          </h1>

          <!-- Subtitle Animation (Delayed) -->
          <p
            class="text-lg md:text-2xl mb-6 md:mb-8 transition-all duration-1000 delay-200 transform leading-snug"
            [ngClass]="[
              currentSlide() === i ? 'translate-x-0 opacity-100' : '-translate-x-20 opacity-0',
              slide.textSubtitleColor,
            ]"
          >
            {{ slide.subtitle }}
          </p>

          <!-- CTA Button Animation (More Delayed) -->
          <div class="flex justify-center md:justify-start">
            <button
              class="w-fit bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-8 md:py-4 md:px-10 rounded-full shadow-lg transition-all duration-1000 delay-500 transform text-sm md:text-base"
              [ngClass]="
                currentSlide() === i ? 'translate-x-0 opacity-100' : '-translate-x-20 opacity-0'
              "
            >
              Solicítalo aquí
            </button>
          </div>
        </div>

        <!-- Right Content: Image -->
        <div
          class="flex md:flex w-full md:w-1/2 h-1/2 md:h-full items-center justify-center relative pt-8 md:pt-0"
        >
          @if (slide.image) {
            <img
              [src]="slide.image"
              alt="Hero Banner"
              class="max-h-full max-w-full object-contain transition-all duration-1000 transform"
              [ngClass]="
                currentSlide() === i ? 'translate-x-0 opacity-100' : 'translate-x-20 opacity-0'
              "
            />
          }
        </div>
      </div>
    }
  </div>

  <!-- Navigation Dots -->
  <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 flex gap-3 z-20">
    @for (slide of slides; track slide.title; let i = $index) {
      <button
        (click)="goToSlide(i)"
        class="h-3 rounded-full transition-all duration-300"
        [ngClass]="currentSlide() === i ? 'bg-red-600 w-10' : 'bg-gray-400 w-3 hover:bg-gray-600'"
      ></button>
    }
  </div>
</div>
