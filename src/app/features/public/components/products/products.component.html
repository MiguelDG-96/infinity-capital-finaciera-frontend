<div class="container max-w-7xl mx-auto px-4 relative z-20 py-12">
  <div
    #scrollContainer
    class="relative flex overflow-x-auto pb-4 gap-4 md:grid md:grid-cols-2 lg:grid-cols-4 md:gap-6 md:pb-0 md:overflow-visible md:snap-none cursor-grab md:cursor-auto active:cursor-grabbing md:active:cursor-auto select-none md:select-auto"
    (mousedown)="onMouseDown($event)"
    (mouseleave)="onMouseLeave()"
    (mouseup)="onMouseUp()"
    (mousemove)="onMouseMove($event)"
    (touchstart)="onTouchStart($event)"
    (touchend)="onTouchEnd($event)"
    (scroll)="onScroll($event)"
  >
    @for (product of products; track product.title) {
      <div
        class="min-w-[80%] sm:min-w-[45%] md:min-w-0 bg-white p-6 rounded-3xl shadow-md ring-0 hover:shadow-xl transition-all duration-300 flex items-center gap-4 cursor-pointer group transform hover:-translate-y-1 md:snap-center"
      >
        <!-- Icon Container -->
        <div
          class="flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center"
          [class]="product.colorClass"
        >
          <lucide-icon [name]="product.iconName" class="w-6 h-6 text-white"></lucide-icon>
        </div>

        <!-- Text Content -->
        <div>
          <h3 class="font-bold text-gray-900 group-hover:text-red-600 transition-colors">
            {{ product.title }}
          </h3>
          <p class="text-xs text-gray-500">{{ product.subtitle }}</p>
        </div>
      </div>
    }
  </div>

  <!-- Navigation Dots (Mobile Only) -->
  <div class="flex justify-center gap-2 mt-4 md:hidden">
    @for (product of products; track product.title; let i = $index) {
      <button
        (click)="scrollToIndex(i)"
        class="h-2 rounded-full transition-all duration-500 ease-in-out"
        [ngClass]="
          currentProductIndex() === i ? 'bg-red-600 w-6' : 'bg-gray-300 w-2 hover:bg-gray-400'
        "
      ></button>
    }
  </div>
</div>
